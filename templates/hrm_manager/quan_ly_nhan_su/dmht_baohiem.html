{% extends "base.html" %}
{% load static %}

{% block title %}Danh mục bảo hiểm{% endblock %}

{% block content %}
<div class="flex flex-col h-full space-y-4">
    {% include "components/breadcrumb.html" with breadcrumb_items=breadcrumbs %}

    <div class="bg-white shadow-sm p-1 sm:p-2 h-full flex flex-col">
        <h1 class="text-2xl font-bold text-slate-900 mb-6">Danh mục bảo hiểm</h1>

        {# Toolbar #}
        {# Chỉ cần truyền biến status_list đã được gửi từ view.py #}
        {% include "components/toolbar.html" with search_id="search-input" search_placeholder="Tìm kiếm..." create_text="Thêm bảo hiểm" create_onclick="window.BaoHiemManager.openSidebar('create')" filter_form_id="filter-form" filter_options=status_list filter_field="status" filter_label="Tất cả trạng thái" %}  

        {# Table Wrapper theo phong cách chức vụ html #}
        {% with headers='<th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Tên bảo hiểm</th><th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Mã bảo hiểm</th><th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Ghi chú</th><th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Trạng thái</th>' %}
            {% include "components/table_wrapper.html" with table_id="baohiem-table" tbody_id="table-body" headers_html=headers show_checkbox=True select_all_id="select-all-checkbox" %}
        {% endwith %}

        {# Pagination & Bulk Actions #}
        {% include "components/pagination.html" %}
        {% include "components/bulk_actions.html" with show_delete=True id="bulk-actions" %}
    </div>
</div>

{# Sidebar #}
{% include "components/crud_sidebar.html" with sidebar_id="bh-sidebar" overlay_id="bh-sidebar-overlay" form_id="baohiem-form" form_fields_template="hrm_manager/quan_ly_nhan_su/partials/baohiem_form.html" submit_text="Lưu thông tin" %}
{% endblock %}

{% block scripts %}
<script src="{% static 'js/quan_ly_nhan_su/dmht_baohiem.js' %}"></script>
{% endblock %}